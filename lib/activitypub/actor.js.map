{"version":3,"file":"actor.js","sourceRoot":"","sources":["../../src/activitypub/actor.ts"],"names":[],"mappings":";;;AAAA,wCAA2C;AAE3C,SAAgB,KAAK,CAAC,IAAY;IAChC,MAAM,QAAQ,GAAG,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC;IAC9C,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC;IAE1C,IAAI,QAAQ,KAAK,IAAI;QAAE,OAAO;IAE9B,OAAO,IAAI,qBAAY,CACrB,IAAI,CAAC,SAAS,CAAC;QACb,UAAU,EAAE,uCAAuC;QACnD,IAAI,EAAE,QAAQ;QACd,EAAE,EAAE,WAAW,MAAM,sBAAsB,QAAQ,EAAE;QACrD,MAAM,EAAE,WAAW,MAAM,sBAAsB,QAAQ,SAAS;QAChE,SAAS,EAAE,WAAW,MAAM,sBAAsB,QAAQ,YAAY;QACtE,SAAS,EAAE,WAAW,MAAM,sBAAsB,QAAQ,YAAY;QACtE,KAAK,EAAE,WAAW,MAAM,sBAAsB,QAAQ,QAAQ;QAC9D,iBAAiB,EAAE,QAAQ;KAC5B,CAAC,EACF;QACE,OAAO,EAAE;YACP,cAAc,EAAE,sBAAsB;SACvC;KACF,CACF,CAAC;AACJ,CAAC;AAvBD,sBAuBC","sourcesContent":["import { NextResponse } from \"next/server\";\n\nexport function actor(user: string) {\n  const username = process.env.NEXTPUB_USERNAME;\n  const domain = process.env.NEXTPUB_DOMAIN;\n\n  if (username !== user) return;\n\n  return new NextResponse(\n    JSON.stringify({\n      \"@context\": `https://www.w3.org/ns/activitystreams`,\n      type: `Person`,\n      id: `https://${domain}/activitypub/users/${username}`,\n      outbox: `https://${domain}/activitypub/users/${username}/outbox`,\n      following: `https://${domain}/activitypub/users/${username}/following`,\n      followers: `https://${domain}/activitypub/users/${username}/followers`,\n      inbox: `https://${domain}/activitypub/users/${username}/inbox`,\n      preferredUsername: username,\n    }),\n    {\n      headers: {\n        \"Content-Type\": \"application/jrd+json\",\n      },\n    }\n  );\n}\n"]}